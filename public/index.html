<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Samuel Scheiderich</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Samuel Scheiderich">
<meta property="og:url" content="http://samuelscheiderich.com/index.html">
<meta property="og:site_name" content="Samuel Scheiderich">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Samuel Scheiderich">
  
    <link rel="alternate" href="/atom.xml" title="Samuel Scheiderich" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Samuel Scheiderich</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/Samuel-Scheiderich">About me</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://samuelscheiderich.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-state-terminology" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/state-terminology/" class="article-date">
  <time datetime="2017-08-29T13:20:37.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/state-terminology/">State Terminology</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>What does someone mean when they say “state” in React contexts? Glad you asked! Unfortunately, it’s not something with a simple answer. I can break “state” into at least five different meanings, all of which are used in documentation, IRC chats, forums posts, and elsewhere.</p>
<h3 id="General-state"><a href="#General-state" class="headerlink" title="General state"></a>General state</h3><p>The general idea of “state”, is the remembered events, data, and user interactions of the application. It is the part of an application which can change. For a longer definition, check out <a href="https://en.wikipedia.org/wiki/State_%28computer_science%29" target="_blank" rel="external">State (computer science)</a> on Wikipedia.</p>
<h3 id="Application-state"><a href="#Application-state" class="headerlink" title="Application state"></a>Application state</h3><p>A subset of the general state in an app is the “application state”. This is data relevant to the actual functionality of the application. It may have properties including form data, current user info, and lists of data.</p>
<h3 id="View-state"><a href="#View-state" class="headerlink" title="View state"></a>View state</h3><p>Another subset of the general state is “view state”. This is data which is used in the user interface to improve or change the user experience. This state is never relevant to the application, such that it is possible to have the exact same application functionality without any view state<sup><a href="#view-state-removed">1</a></sup>. Included types of information in the view state may be whether a dropdown is open, the current page, or a selected theme.</p>
<h3 id="Component-state"><a href="#Component-state" class="headerlink" title="Component state"></a>Component state</h3><p>This is where some confusion usually starts to set in. Many users (including blog, documentation, forum post, and real-time chat authors) also use “state” to refer to the built-in state handling functionality in <code>React.Component</code> (and <code>React.PureComponent</code>) classes. This functionality is not itself actual “state”, but is actually a type of “store”. “Component state” is just a tool, and it allows you to store any type of state.</p>
<h3 id="state-e-g-“Redux-state”"><a href="#state-e-g-“Redux-state”" class="headerlink" title="\ state (e.g., “Redux state”)"></a>\<store\> state (e.g., “Redux state”)</store\></h3><p>In contrast to using “state” to refer to “component state”, it’s also used to refer specifically to state stored in other types of state stores. Currently, a popular state store is Redux, but this also applies to any external store (Mobx, Backbone, other Flux implementations). Sometimes, users will use “application state” to refer to state stored outside of React “component state”.</p>
<h2 id="The-Right-Way"><a href="#The-Right-Way" class="headerlink" title="The Right Way"></a>The Right Way</h2><p>Of course, The Right Way doesn’t exist. Nobody wants to explicitly type “application state” or “component state” all the time, even though that would allow much less ambiguity.</p>
<p>When communicating with someone, I recommend verifying what they mean when they say “state” if it might be ambiguous, and being explicit at least once in a while yourself to help others understand you.</p>
<blockquote>
<p><a name="view-state-removed">1.</a> Generally this is true, but in most circumstances having a stateless user interface would require vast changes to an application or website, including moving everything into a single page and replacing dropdowns with different types of UIs (radio buttons, checkbox lists, etc). Even then, trying to remove some state such as mouse and scroll position would make it very difficult to maintain the same application functionality. To have a <strong>perfectly</strong> stateless UI for a stateful app would be very difficult or impossible.</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2017/08/29/state-terminology/" data-id="cj6xngci50008i7dmjemlpz6c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/patterns/">patterns</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/state/">state</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-how-to-add-css-loader-to-webpack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/14/how-to-add-css-loader-to-webpack/" class="article-date">
  <time datetime="2017-07-15T01:16:00.000Z" itemprop="datePublished">2017-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/14/how-to-add-css-loader-to-webpack/">How to Add css-loader to Webpack</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>One of the benefits of using Webpack is that is allows you to load non-JavaScript files using the standard JavaScript import statements. Specifically, this is regularly used to load stylesheets on a per-module basis.</p>
<blockquote>
<p>The final results can be found in a <a href="https://github.com/samsch/basic-webpack-react/tree/css-loader-extract-text-plugin" target="_blank" rel="external">branch from the base repo</a>.</p>
</blockquote>
<h1 id="What-we-need-to-get-started"><a href="#What-we-need-to-get-started" class="headerlink" title="What we need to get started"></a>What we need to get started</h1><p>Our baseline is a working Webpack project. A good starting point is my <a href="https://github.com/samsch/basic-webpack-react" target="_blank" rel="external">basic-webpack-react tutorial results</a>. Run <code>git clone https://github.com/samsch/basic-webpack-react.git</code>, <code>cd basic-webpack-react</code>, and <code>npm install</code>.</p>
<h1 id="Loaders-for-styles"><a href="#Loaders-for-styles" class="headerlink" title="Loaders for styles"></a>Loaders for styles</h1><p>Loading css in a useful way requires either two Webpack loaders, or a loader and a plugin. The easier setup to get started with is using <code>style-loader</code> and <code>css-loader</code>.</p>
<ul>
<li><a href="https://webpack.js.org/loaders/style-loader/" target="_blank" rel="external">style-loader</a> takes an imported css file, and makes it output as a <code>&lt;style&gt;</code> element with the css from the file.</li>
<li><a href="https://webpack.js.org/loaders/css-loader/" target="_blank" rel="external">css-loader</a> parses a css file for <code>@import</code>, <code>url()</code>, and translates those into something Webpack can understand to import.</li>
</ul>
<p>With these, you can have imports in your JavaScript modules like:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>;</div></pre></td></tr></table></figure></p>
<p>Webpack will take that stylesheet – and anything it <code>@import</code>s – and include JavaScript in your bundle to put it in <code>&lt;style&gt;</code> tags in the output when the app starts.</p>
<p>The downside of this method is that styles can’t be cached by the browser separately. Later, we’ll use the other method for a better production setup.</p>
<h1 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h1><p>First install the loaders by running <code>npm install -D style-loader css-loader</code>.</p>
<p>Then we need to modify <a href="https://github.com/samsch/basic-webpack-react/blob/f57ca65db1bb8462a9415a065a628b52163b34d0/webpack.config.js" target="_blank" rel="external">webpack.config.js</a>. Add the new loader rule to the <code>rules</code> property as shown below.<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">   module: &#123;</div><div class="line">     rules: [</div><div class="line">       &#123;</div><div class="line">         test : /\.jsx?/,</div><div class="line">         include: path.resolve(__dirname, 'src/'),</div><div class="line">         use: ['babel-loader'],</div><div class="line">       &#125;,</div><div class="line"><span class="addition">+      &#123;</span></div><div class="line"><span class="addition">+        test: /\.css$/,</span></div><div class="line"><span class="addition">+        use: [ 'style-loader', 'css-loader' ]</span></div><div class="line"><span class="addition">+      &#125;,</span></div><div class="line">     ],</div><div class="line">   &#125;,</div></pre></td></tr></table></figure></p>
<p>That’s it! Now you can run <code>npm start</code>, and it will act exactly as before, but it’s ready to import css files.</p>
<h1 id="Add-some-test-styles"><a href="#Add-some-test-styles" class="headerlink" title="Add some test styles"></a>Add some test styles</h1><p>Let’s add <code>import &#39;./style.css&#39;</code> to the top of <code>src/foo.js</code>.<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+import './style.css';</span></div><div class="line"><span class="addition">+</span></div><div class="line"> import React from 'react';</div><div class="line"> import ReactDOM from 'react-dom';</div><div class="line"> </div><div class="line"> const foo = function() &#123;</div></pre></td></tr></table></figure></p>
<p>The running Webpack process throws and error because style.css isn’t found. So let’s add <code>src/style.css</code>:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> gray;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Now Webpack compiles, and the page should refresh with a border applied to the h1 tag.</p>
<p>Let’s add an imported style. Make <code>src/paragraph.css</code>:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#ddd</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>And add an import line to <code>src/style.css</code>:<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+@import "paragraph.css";</span></div><div class="line"><span class="addition">+</span></div><div class="line"> h1 &#123;</div><div class="line">   border-bottom: solid 2px gray;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Note that we can use “paragraph.css” here, rather than “./paragraph.css” which Webpack would normally need for relative files. To import a file from an npm package, you can use a <code>~</code> prefix, like <code>~some-css-package/dist/style.css</code>.</p>
</blockquote>
<p>Now we have css styles imported from our modules, and css import bundling!</p>
<h1 id="Separate-style-sheets"><a href="#Separate-style-sheets" class="headerlink" title="Separate style sheets"></a>Separate style sheets</h1><p>The above system actually works pretty well for smaller projects and development. But for larger projects and production, we often want separate stylesheets for caching.</p>
<p>To pull our styles into a new file, we use <code>extract-text-webpack-plugin</code>, so install that with <code>npm i -D extract-text-webpack-plugin</code>, and remove <code>style-loader</code> with <code>npm remove style-loader</code>. We need to make a couple changes in <code>webpack.config.js</code>.</p>
<p>At the top of the file:<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> const path = require('path');</div><div class="line"><span class="addition">+const ExtractTextPlugin = require("extract-text-webpack-plugin");</span></div><div class="line"> </div><div class="line"> module.exports = &#123;</div><div class="line">   entry: ['babel-polyfill', './src/main.js'],</div></pre></td></tr></table></figure></p>
<p>And near the end of the file:<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">       &#123;</div><div class="line">         test : /\.jsx?/,</div><div class="line">         include: path.resolve(__dirname, 'src/'),</div><div class="line">         use: ['babel-loader'],</div><div class="line">       &#125;,</div><div class="line">       &#123;</div><div class="line">         test: /\.css$/,</div><div class="line"><span class="deletion">-        use: [ 'style-loader', 'css-loader' ]</span></div><div class="line"><span class="addition">+        use: ExtractTextPlugin.extract(&#123;</span></div><div class="line"><span class="addition">+          use: 'css-loader',</span></div><div class="line"><span class="addition">+        &#125;),</span></div><div class="line">       &#125;,</div><div class="line">     ],</div><div class="line">   &#125;,</div><div class="line"><span class="addition">+  plugins: [</span></div><div class="line"><span class="addition">+    new ExtractTextPlugin(&#123;</span></div><div class="line"><span class="addition">+      filename: 'style.css',</span></div><div class="line"><span class="addition">+      allChunks: true,</span></div><div class="line"><span class="addition">+    &#125;),</span></div><div class="line"><span class="addition">+  ],</span></div><div class="line"> &#125;;</div></pre></td></tr></table></figure></p>
<p>Now if we re-run <code>npm start</code>, we don’t have our styles anymore! This is because the styles output into a new file, which isn’t automatically loaded. So we add a stylesheet link in <code>public/index.html</code>:<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">   &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;</div><div class="line">   &lt;title&gt;Webpack bundle test page&lt;/title&gt;</div><div class="line"><span class="addition">+  &lt;link rel="stylesheet" href="/style.css"&gt;</span></div><div class="line">   &lt;script src="/bundle.js" defer&gt;&lt;/script&gt;</div><div class="line"> &lt;/head&gt;</div></pre></td></tr></table></figure></p>
<p>Refresh the page and your styles are back. If you check the network requests tab in your browser, you can see the stylesheet was loaded in separately.</p>
<p>This is now a mostly production-ready stylesheet management system. </p>
<blockquote>
<p>The main pain-point for this configuration now is that files always have the same name, which means that you would need to do external versioning to bust the browser file cache. Fixing this is possible with a Webpack plugin, but it’s a bit out of scope for this guide.</p>
</blockquote>
<p>The final results can be seen as a <a href="https://github.com/samsch/basic-webpack-react/tree/css-loader-extract-text-plugin" target="_blank" rel="external">branch of the base repo</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2017/07/14/how-to-add-css-loader-to-webpack/" data-id="cj6xngci9000ci7dmlg9631ch" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css-loader/">css-loader</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-getting-started-with-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/21/getting-started-with-react/" class="article-date">
  <time datetime="2017-04-21T22:36:00.000Z" itemprop="datePublished">2017-04-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/getting-started-with-react/">Getting Started with React</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This will be the fast course to get a productive React development flow going. The only real prerequisite (besides a working computer and internet connection) is having a recent version of Node.js installed (as written, this is version 7.9.0, and LTS 6.10.2).</p>
<p>What this guide does not do is teach you Javascript or React. This just gets the environment in place.</p>
<h2 id="Let’s-go"><a href="#Let’s-go" class="headerlink" title="Let’s go!"></a>Let’s go!</h2><p>First thing to do is create your new project folder (I’ll be using <code>react-project</code> in this guide), and run <code>npm init</code>. The requested information doesn’t directly impact what we are going to be doing, so use whatever values you want.</p>
<p>We need an html page to attach our app to, so create a <code>public/</code> folder, and inside, create <code>index.html</code>. Paste this content into it:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Basic React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>If you are looking at this and saying, “man, that’s a pretty sparse web page”, well, you’re right. For a “real” app, you are going to want to put your extra meta tags in, maybe Google Analytics, a link to your favicon, and whatever else you need. We’ll get to the content next.</p>
<h3 id="Application-source"><a href="#Application-source" class="headerlink" title="Application source"></a>Application source</h3><p>Create a <code>src/</code> folder in the root of your project. All of your project specific source will be in this folder. For now, just create a <code>main.js</code> file in <code>src/</code>, and copy these contents into it:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDOM  <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>So now your project folder should look like this:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- react-project</div><div class="line"> |- package.json</div><div class="line"> |- src/</div><div class="line"> | |- main.js</div><div class="line"> |- public/</div><div class="line">   |- index.html</div></pre></td></tr></table></figure></p>
<p>Well, we can see from above that we need at least a few dependencies from npm installed, so lets get started on those.</p>
<p>Run <code>npm install --save react react-dom</code>.</p>
<p>The <code>react</code> package is the ReactJS library, and <code>react-dom</code> is a sister library which lets you render a React virtual DOM to the real DOM.</p>
<p>That actually covers the entire source of the application. Now all we need to do is build it.</p>
<h3 id="Setting-up-Webpack"><a href="#Setting-up-Webpack" class="headerlink" title="Setting up Webpack"></a>Setting up Webpack</h3><p>So, we primarily need two tools for building a React application: Webpack, and Babel.</p>
<p>Babel is a Javascript compiler (sometimes called a transpiler). It takes JSX and modern (ES2015, ES2016, and beyond) Javascript syntax, and compiles it to ES5 Javascript, which allows your modern code to run in older browsers.</p>
<blockquote>
<p>The compiled code potentially can work with even IE8 (with some extra effort). However, IE9 is the oldest browser which “normally” works. In 2017, IE11 and Android Browser are the targets of primary concern.</p>
</blockquote>
<p>Webpack is a module bundler. You give it an entry point file which uses ES Modules or CommonJS (which is the same syntax that Node uses for its modules), and it finds and “bundles” all the required files into a single file, which you can then include in your web page.</p>
<p>So, lets install Webpack and Babel. Run <code>npm install --save-dev webpack babel-core babel-loader babel-polyfill</code>. Wait, what is babel-loader? Webpack plugins which change the bundled code are called loaders. babel-loader is then the Webpack plugin which allows Babel to be run against the files to be bundled. And babel-polyfill? That’s to fill in additions to Javascript in ES2015+ that do not require new syntax, such as methods like <code>Object.includes</code> and objects like <code>Promise</code>.</p>
<p>“That’s it right? now we just run <code>webpack</code> and we’re done, right?” Not quite.</p>
<p>Our next step is to configure webpack. Technically, we could forgo configuring, and just use command line arguments to the Webpack cli interface. That would look something like <code>webpack src/main.js public/bundle.js --module-bind &#39;js=babel&#39;</code>. However, using a configuration file is much more expressive, gives you more options, and is easier to maintain. So create <code>webpack.config.js</code> in the root of your project, and copy this into it:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"></div><div class="line"><span class="keyword">const</span> BUILD_DIR = path.resolve(__dirname, <span class="string">'public'</span>);</div><div class="line"><span class="keyword">const</span> APP_DIR = path.resolve(__dirname, <span class="string">'src/'</span>);</div><div class="line"></div><div class="line"><span class="keyword">const</span> config = &#123;</div><div class="line">    <span class="attr">entry</span>: [<span class="string">'babel-polyfill'</span>, APP_DIR + <span class="string">'/main.js'</span>],</div><div class="line">    <span class="attr">output</span>: &#123;</div><div class="line">        <span class="attr">path</span>: BUILD_DIR,</div><div class="line">        <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">module</span> : &#123;</div><div class="line">        <span class="attr">rules</span> : [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">test</span> : <span class="regexp">/\.jsx?/</span>,</div><div class="line">                <span class="attr">include</span> : APP_DIR,</div><div class="line">                <span class="attr">use</span> : <span class="string">'babel-loader'</span>,</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = config;</div></pre></td></tr></table></figure></p>
<p>Wow, that’s a lot of configuration for a simple app! Let’s take a closer look though. The first two lines are just requiring Webpack and the Node “path” module, and the next two lines are just setting some constants.</p>
<p>After that we have the actual configuration for Webpack. One nice point to note is that Webpack’s configuration file is a Javascript file, not JSON like many others are (allowing comments, trailing commas, etc). In our configuration we set the <code>entry</code> property, which is the file that Webpack starts at (more on that in a moment); the <code>output</code>, which is where Webpack saves the compiled code; and the <code>module</code> property.</p>
<p>The <code>entry</code> configuration can take a string, array, or object. If you use a string, it should point at the single file that starts your application. If you use an array, Webpack will concatenate the files. Using an object allows you to have multiple entry points, which is for building multiple separate apps. In our case, we need our main.js file and babel-polyfill (which is loaded first).</p>
<p>Our <code>module</code> property has a <code>rules</code> property, which is an array of the defined loaders. For now, we are just defining babel-loader. <code>test</code> is a regex to match against file extensions. I’m using a pattern which matches <code>.js</code> and <code>.jsx</code> files. You could also choose to set it to only compile files with the JSX extension, by using <code>/\.jsx/</code>, or if you decide not to use .jsx at all, just use <code>/\.js/</code> to .js files. The <code>include</code> property tells Webpack that you only want to compile files in a specific folder. This is because you should never need to compile files from <code>node_modules</code>, since libraries should already be compiled with Babel (if they needed to be). This only stops Webpack from running Babel on files outside of APP_DIR, it doesn’t stop Webpack from bundling those files into the output. The <code>use</code> property defines our loader, which is Babel.</p>
<p>The last line is simply exporting the configuration. By default, when Webpack runs, it uses <code>webpack.config.js</code> if it exists.</p>
<p>And that’s it for our Webpack configuration. Now we just need to add our command to package.json:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  ...</div><div class="line">  "scripts": &#123;</div><div class="line">    ...</div><div class="line">    "dev": "webpack -d --watch",</div><div class="line">    "build": "webpack -p"</div><div class="line">  &#125;,</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We add two npm scripts, “dev” and “build”. “dev” will run Webpack with “-d –watch”, which sets webpack in debug mode (more verbose, and outputs code maps for the browser), and in watch mode, which means it continuously runs, re-compiling whenever a bundled file changes. “build” runs Webpack with “-p”, which enables production mode. In production mode, the output is uglified (using Uglify), and any instances of <code>process.env.NODE_ENV</code> are replaced with <code>&quot;production&quot;</code>. That last part is important because it allows Uglify to remove React’s internal debugging tools (which lets it run faster).</p>
<h3 id="Setup-Babel"><a href="#Setup-Babel" class="headerlink" title="Setup Babel"></a>Setup Babel</h3><p>Ok, we’re almost there. We have everything in place except for a little bit of Babel configuration. This one is easy. Create <code>.babelrc</code> in your project root, and copy this into it:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"presets"</span> : [<span class="string">"latest"</span>, <span class="string">"react"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>What this does is tell Babel to compile ES2015+ and JSX to ES5 Javascript. These presets don’t come with Babel, so install them with <code>npm install --save-dev babel-preset-latest babel-preset-react</code>.</p>
<p>This is the simple approach to the Babel config. For a more explicit configuration (such as for targeting ES2015 compatible browsers), check out @brigand’s <a href="https://brigand.github.io/config-wizard/?babelrc" target="_blank" rel="external">config-wizard</a>.</p>
<h3 id="Run"><a href="#Run" class="headerlink" title="Run!"></a>Run!</h3><p>That pretty much covers it. And now you know why the React workflow is notorious for being difficult to setup. While it’s not actually that complex, there are many steps to the process, at least the first time through.</p>
<p>So, finally, to start your development environment, run <code>npm run dev</code>. You should see some output from Webpack, and two more files should appear in <code>public/</code>: <code>bundle.js</code> and <code>bundle.js.map</code>.</p>
<p>Now you just need a server to get these files into your browser. My go-to mini-server is <code>http-server</code>, available with npm. I install very few npm packages globally, but this is one. Install it with <code>npm install -g http-server</code>, then run it from your project root with <code>http-server public</code>. Now you should be able to visit <code>localhost:8080</code> in your browser, and see the web app you just created!</p>
<h2 id="Just-give-me-the-final-product-already"><a href="#Just-give-me-the-final-product-already" class="headerlink" title="Just give me the final product already"></a>Just give me the final product already</h2><p><a href="https://github.com/samsch/basic-react" target="_blank" rel="external">Here it is, the whole thing wrapped up in a Github Repository.</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2017/04/21/getting-started-with-react/" data-id="cj6xngci8000ai7dmwl13hupz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/">developer experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-getting-started-with-webpack-part-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/14/getting-started-with-webpack-part-2/" class="article-date">
  <time datetime="2017-04-14T14:45:02.000Z" itemprop="datePublished">2017-04-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/14/getting-started-with-webpack-part-2/">Getting Started with Webpack - Part 2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In <a href="https://samuelscheiderich.com/2017/04/08/getting-started-with-webpack/">Part 1</a>, we setup basic production ready functionality in Webpack. We can organize our code into modules, build them into a single file bundle, and have the build process run automatically, refreshing our project in a webpage.</p>
<p>Our next step is to have our build system compile modern Javascript (ES2015, ES2016, ES2017) into code which can be run in current browsers (ES5). We also need to add in polyfills for some of the additional non-syntax language features.</p>
<p>We also will enable JSX compilation for use with React.</p>
<h2 id="Loaders-and-our-starting-point"><a href="#Loaders-and-our-starting-point" class="headerlink" title="Loaders and our starting point"></a>Loaders and our starting point</h2><p>Webpack has a couple ways to extend its functionality. There is a <a href="https://webpack.js.org/plugins/" target="_blank" rel="external">plugin system</a>, which used for tools such as UglifyJS for code minification, and there is the <a href="https://webpack.js.org/loaders/" target="_blank" rel="external">loader system</a>. Loaders allow you to pre-process files before they are added to the bundle.</p>
<p>We will use the final product of Part 1 as our starting point. You can clone the <a href="https://github.com/samsch/basic-webpack-no-loaders" target="_blank" rel="external">basic-webpack-no-loaders</a> repo to follow along, or if you followed Part 1, the project you ended up with.</p>
<h2 id="Final-result"><a href="#Final-result" class="headerlink" title="Final result"></a>Final result</h2><p>If you don’t want to build the whole thing, or want to look ahead, the final result is in <a href="https://github.com/samsch/basic-webpack-react" target="_blank" rel="external">basic-webpack-react</a>.</p>
<h2 id="Adding-Babel"><a href="#Adding-Babel" class="headerlink" title="Adding Babel"></a>Adding Babel</h2><p>Our first step is to add and configure Babel. Babel is a Javascript and near-Javascript compiler. The Webpack loader is called babel-loader, and depends on babel-core as a peer dependency. Install both with <code>npm install -D babel-core babel-loader</code>.</p>
<p>Next we need to setup a babelrc file in the project root. This file configures the Babel plugins we need.</p>
<p>To setup this file, I used <a href="https://github.com/brigand" target="_blank" rel="external">@brigand</a>‘s <a href="https://brigand.github.io/config-wizard/?babelrc" target="_blank" rel="external">config-wizard</a>, with options “Play it safe”, “None/Other”, [“IE11”, “iOS”, “Chrome”, “Firefox”]. This instructs us to install babel-preset-env with <code>npm install -D babel-preset-env</code>, and gives us our file content for <code>.babelrc</code>:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"presets"</span>: [</div><div class="line">    [</div><div class="line">      <span class="string">"env"</span>,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">"targets"</span>: &#123;</div><div class="line">          <span class="attr">"browsers"</span>: [</div><div class="line">            <span class="string">"ie 11"</span>,</div><div class="line">            <span class="string">"last 2 Chrome versions"</span>,</div><div class="line">            <span class="string">"last 2 Firefox versions"</span>,</div><div class="line">            <span class="string">"last 2 iOS versions"</span></div><div class="line">          ]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Now we need to add babel-loader to <code>webpack.config.js</code>. We’re adding a <code>modules</code> property with some options:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>: &#123;</div><div class="line">  <span class="attr">rules</span>: [</div><div class="line">    &#123;</div><div class="line">      <span class="attr">test</span> : <span class="regexp">/\.js/</span>,</div><div class="line">      <span class="attr">include</span>: path.resolve(__dirname, <span class="string">'src/'</span>),</div><div class="line">      <span class="attr">use</span>: [<span class="string">'babel-loader'</span>],</div><div class="line">    &#125;,</div><div class="line">  ],</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<blockquote>
<p><a href="https://gist.github.com/samsch/15a058bd059b1bfe57d2400003348736" target="_blank" rel="external">View diff of file change</a></p>
</blockquote>
<p>With these changes, we can now use the same commands as before (<code>npm start</code>, <code>npm run dev</code>, <code>npm run build</code>), and it will work just the same, except that now if we use ES2015/16/17 code, it will be compiled to ES5 Javascript.</p>
<h3 id="Polyfills"><a href="#Polyfills" class="headerlink" title="Polyfills"></a>Polyfills</h3><p>Now we need to add the Babel polyfill (which is actually core-js and regenerator). Install it with <code>npm install -D babel-polyfill</code>. There are a couple ways to include polyfills in your code. The simplest is to just add <code>import &#39;babel-polyfill&#39;;</code> to the top of your entry file (<code>src/main.js</code>). A slightly cleaner approach is to include them via webpack config, which also makes the polyfills part of the build, rather than part of your code. We need to change the <code>entry</code> property in <code>webpack.config.js</code> to be <code>entry: [&#39;babel-polyfill&#39;, &#39;./src/main.js&#39;],</code>.</p>
<blockquote>
<p><a href="https://gist.github.com/samsch/0df1433b029dda87d73f092cf119d837" target="_blank" rel="external">webpack.config.js diff</a></p>
</blockquote>
<h2 id="Test-modern-to-ES5-compilation"><a href="#Test-modern-to-ES5-compilation" class="headerlink" title="Test modern to ES5 compilation"></a>Test modern to ES5 compilation</h2><p>Let’s show that our code is being compiled properly. Change <code>srv/main.js</code> to be:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">'./foo'</span>;</div><div class="line"></div><div class="line">foo();</div><div class="line"></div><div class="line"><span class="keyword">const</span> j = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Babel compilation is working!'</span>);</div><div class="line"></div><div class="line">j();</div></pre></td></tr></table></figure></p>
<p>If we compile with <code>npm run build</code>, and search in the (minified) <code>public/bundle.js</code> for “Babel compilation is working!”, we find <code>function(){console.log(&quot;Babel compilation is working!&quot;)}</code>, which is using the <code>function</code> keyword rather than using an arrow function like our source.</p>
<h2 id="React…-and-more"><a href="#React…-and-more" class="headerlink" title="React… and more!"></a>React… and more!</h2><p>What we have now gives us great modern Javascript workflow, while supporting common browsers. Our next step takes us to features outside of Javascript. To work with React, most developers use JSX, which is an HTML-like language that compiles to Javascript. To add JSX support, all we need to do is install babel-preset-react, add it to <code>.babelrc</code>, and possibly make a minor change to our webpack config.</p>
<p>First add babel-preset-react with <code>npm install -D babel-preset-react</code>. Then change <code>.babelrc</code> to be:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"presets"</span>: [</div><div class="line">    [</div><div class="line">      <span class="string">"env"</span>,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">"targets"</span>: &#123;</div><div class="line">          <span class="attr">"browsers"</span>: [</div><div class="line">            <span class="string">"last 2 Chrome versions"</span>,</div><div class="line">            <span class="string">"last 2 Firefox versions"</span>,</div><div class="line">            <span class="string">"last 2 iOS versions"</span>,</div><div class="line">            <span class="string">"ie 11"</span></div><div class="line">          ]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">    <span class="string">"react"</span></div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Generated with config-wizard similar to before, this time replacing “None/Other” with “React”.</p>
</blockquote>
<p>With just those changes, we can now compile JSX in our js files. Some developers prefer to use a different file extension for React components though: <code>.jsx</code>. We can support this by making a small change to our <code>test</code> line in <code>webpack.config.js</code>. Replace <code>test : /\.js/,</code> with <code>test : /\.jsx?/,</code>. Now Wepack will use babel-loader for <code>.js</code> and <code>.jsx</code> files.</p>
<blockquote>
<p><a href="https://gist.github.com/samsch/54abd031b6ca088abe652371c8dd8754" target="_blank" rel="external">webpack config diff</a></p>
</blockquote>
<h2 id="Test-React-compilation"><a href="#Test-React-compilation" class="headerlink" title="Test React compilation"></a>Test React compilation</h2><p>To see that we can now compile JSX, lets change <code>src/foo.js</code> to run some React code:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  ReactDOM.render(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This was rendered with React.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>,</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'app-body'</span>)</div><div class="line">  );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> foo;</div></pre></td></tr></table></figure></p>
<p>Since we’re importing React and ReactDOM, we also need to install them, so run <code>npm install -D react react-dom</code>.</p>
<p>Now we can run <code>npm start</code>, and we should see our “Hello, world!” and the rendered by React message.</p>
<h2 id="Next-steps"><a href="#Next-steps" class="headerlink" title="Next steps"></a>Next steps</h2><p>We have a fully functional Webpack and Babel workflow now, which supports modern Javascript and React. The final product can be found in <a href="https://github.com/samsch/basic-webpack-react" target="_blank" rel="external">basic-webpack-react</a>.</p>
<p>For moving beyond what’s here, there are many Webpack loaders, and more features which can’t be covered in a basic guide. Some popular topics:</p>
<ul>
<li><a href="https://webpack.js.org/loaders/#styling" target="_blank" rel="external">Loading styles</a></li>
<li><a href="https://webpack.js.org/guides/code-splitting-import/" target="_blank" rel="external">Code splitting</a></li>
<li><a href="https://webpack.js.org/guides/hmr-react/" target="_blank" rel="external">Hot modules replacement (HMR)</a></li>
</ul>
<p>Happy coding!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2017/04/14/getting-started-with-webpack-part-2/" data-id="cj6xngci70009i7dmqpb73ny6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/">developer experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-getting-started-with-webpack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/08/getting-started-with-webpack/" class="article-date">
  <time datetime="2017-04-08T14:49:29.000Z" itemprop="datePublished">2017-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/08/getting-started-with-webpack/">Getting Started with Webpack</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Modern Javascript best practice is to use either ES modules or CommonJS modules for front end code. However, browsers don’t currently support any module systems directly, so to support this practice, we use a tool called a bundler, which parse modules and creates a single file containing the full source.</p>
<p>There are a couple options for bundlers, but the popularity contest is largely being won by Webpack. There is some notoriety around Webpack, mostly due to the ability to create monstrous configurations for complex builds. However, Webpack itself is fairly straightforward, and this post will walk through the basic setup and configuration.</p>
<blockquote>
<p>In a hurry? The final product of this guide can be found in my <a href="https://github.com/samsch/basic-webpack-no-loaders" target="_blank" rel="external">basic-webpack-no-loaders repository</a>.</p>
</blockquote>
<h2 id="Webpack-basics"><a href="#Webpack-basics" class="headerlink" title="Webpack basics"></a>Webpack basics</h2><p>The simplest usage of Webpack is very easy. Let’s get a basic project started.</p>
<blockquote>
<p>Don’t forget to reference the <a href="https://webpack.js.org/configuration/" target="_blank" rel="external">Webpack documentation</a> for more details, and to explore the options that Webpack provides!</p>
</blockquote>
<h3 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>You need to have Node.js installed.</p>
<p>For Linux and MacOS, the easiest way to install and work with Node is using nvm. Instructions for installing are on the <a href="https://github.com/creationix/nvm#installation" target="_blank" rel="external">nvm project page</a>.</p>
<blockquote>
<p>If using Windows, you can download an installer from the <a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js website</a>.</p>
<p>The instructions are the same for Webpack in Windows, except you may need to use backslashes instead of slashes for paths on the command line. For example, <code>webpack src/main.js public/bundle.js</code> might need to be <code>webpack src\main.js public\bundle.js</code> in Windows.</p>
<p>You can of course use Yarn instead of npm for all the command below. Just remember to use <code>yarn add -D &lt;package&gt;</code> instead of <code>npm install -D &lt;package&gt;</code>.</p>
</blockquote>
<h3 id="Create-a-new-project"><a href="#Create-a-new-project" class="headerlink" title="Create a new project"></a>Create a new project</h3><p>Make a new folder for your project (I’m using <code>basic-webpack</code>). Then open this folder in a terminal.</p>
<p>Run <code>npm init</code>. It will prompt you for project details, but you can just hit enter for each option to use the default. In a real project, you would probably want to fill in actual details.</p>
<p>Next run <code>npm install -D webpack</code>. This will install Webpack as a development dependency.</p>
<h3 id="Add-source-code"><a href="#Add-source-code" class="headerlink" title="Add source code"></a>Add source code</h3><p>Let’s add some source code modules that we want to bundle!</p>
<p>Create a <code>src/</code> folder in your project, and then create a <code>src/foo.js</code> file. Add the following to the file:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Ran foo()!'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> foo;</div></pre></td></tr></table></figure></p>
<p>Then create a <code>src/main.js</code> file, with this content:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">'./foo'</span>;</div><div class="line"></div><div class="line">foo();</div></pre></td></tr></table></figure></p>
<p>Now we can see that main.js is reliant on foo.js. Now we need to create a <em>bundle</em>, which is a single file with all the code in it, neatly packaged to be used in the browser.</p>
<h3 id="Use-Webpack"><a href="#Use-Webpack" class="headerlink" title="Use Webpack"></a>Use Webpack</h3><p>The simplest way to use Webpack is from the command line. Webpack, like most runnable npm modules, can be installed globally so that you could just run <code>webpack &lt;options&gt;</code> directly. However, the best practice is to install locally to the project. So then to run Webpack, we either need to use <code>./node_modules/.bin/webpack</code> OR we can setup an <strong>npm script</strong>. We will be doing the latter.</p>
<p>In your <code>package.json</code> file (which was created by <code>npm init</code> above), add a line under the <strong>scripts</strong> property like this:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "webpack": "webpack"</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>Now we can run Webpack with <code>npm run webpack -- &lt;options&gt;</code>.</p>
<p>Webpack runs on the command line with the form <code>webpack &lt;entry&gt; &lt;output&gt;</code>. We want to output our bundle to <code>public/</code>, and <code>src/main.js</code> is our <em>entry</em> file.</p>
<p>Run <code>npm run webpack -- src/main.js public/bundle.js</code>. (It will create the <code>public/</code> folder automatically if it doesn’t exist.)</p>
<h3 id="Profit"><a href="#Profit" class="headerlink" title="Profit!"></a>Profit!</h3><p>That’s it! That’s all there is to running Webpack in it’s most basic form. You can change your <code>package.json</code> file to include the Weback command option so that you can just run <code>npm run webpack</code>. Change the line <code>&quot;webpack&quot;: &quot;webpack&quot;,</code> to be <code>&quot;webpack&quot;: &quot;webpack src/main.js public/bundle.js&quot;,</code>.</p>
<h2 id="Actually…"><a href="#Actually…" class="headerlink" title="Actually…"></a>Actually…</h2><p>However, this isn’t the standard way to use Webpack. There are a couple missing features which we usually want. You can actually do most of this from the command line, but the recommended path is to use a Webpack config file.</p>
<h3 id="Basic-config-driven-Webpack"><a href="#Basic-config-driven-Webpack" class="headerlink" title="Basic config-driven Webpack"></a>Basic config-driven Webpack</h3><p>If you changed your <code>package.json</code> file to include the paths in the Webpack script command, revert that change so that it’s just:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "webpack": "webpack"</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>Now create a <code>webpack.config.js</code> file in the project root, with these contents:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: <span class="string">'./src/main.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span>,</div><div class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">'public'</span>),</div><div class="line">  &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>This is the bare basics to do the same thing as the command line. While it is a bit more verbose, it also is fairly clear.</p>
<p>Now you can run <code>npm run webpack</code>, and it will automatically find the config file (we used the default name) and build the bundle.</p>
<h3 id="Setup-basic-development-and-production-modes"><a href="#Setup-basic-development-and-production-modes" class="headerlink" title="Setup basic development and production modes"></a>Setup basic development and production modes</h3><p>Webpack comes with some built-in development and production tool which can be enabled with command line options. Edit scripts in <code>package.json</code> again to be like:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "dev": "webpack -d --watch",</div><div class="line">  "build": "webpack -p"</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>Now we can do a production build with <code>npm run build</code>. For development, we can run <code>npm run dev</code>, and it will re-compile any time a file changes which will affect the bundle.</p>
<p>The <code>-d</code> and <code>-p</code> are shortcut options. <code>-d</code> enables sourcemaps and turns on debug mode for <em>loaders</em> (more on loaders later). <code>-p</code> sets the <code>NODE_ENV</code> environment variable to “production” and replaces usages of process.env.NODE_ENV with ‘“production”‘ in your code. <code>-p</code> also turns on UglifyJSPlugin, which does minification and dead-code removal. With these two combined, code such as the following will be removed in production builds:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(process.env.NODE_ENV !== <span class="string">"production"</span>) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Debug mode!'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The sourcemaps are not generated as a separate file by default. You can choose a different sourcemap output with a setting in the webpack config file. <a href="https://webpack.js.org/configuration/devtool/" target="_blank" rel="external">Webpack devtool documentation</a>.</p>
<h2 id="Using-the-bundle-and-automation"><a href="#Using-the-bundle-and-automation" class="headerlink" title="Using the bundle, and automation!"></a>Using the bundle, and automation!</h2><p>What we have now is all you need to bundle Javascript files in development and production. All that needed is a server to serve the Javascript bundle, and a page that includes it.</p>
<p>In the <a href="https://github.com/samsch/basic-webpack-no-loaders" target="_blank" rel="external">basic-webpack-no-loaders repo</a>, you can run <code>checkout basic-production-ready</code> to see the code as it should be if you followed along.</p>
<p>A quick look at what we have:</p>
<ul>
<li>We can put ES module and CommonJS module source files in <code>src/</code>, and also include modules from <code>node_modules/</code> installed with npm or Yarn.</li>
<li>We can do a development build on change with <code>npm run dev</code>, and we can create a production-ready bundle with <code>npm run build</code>.</li>
</ul>
<p>Our next step is to make the developer experience (DX) even better, by setting up webpack-dev-server.</p>
<h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><p>Webpack-dev-server does two things: It acts as a static file server (by default), and it watches and bundles your source with some added code which will refresh your browser page when the source changes and the bundle is rebuilt.</p>
<p>Install webpack-dev-server with <code>npm install webpack-dev-server</code>.</p>
<p>Next add a start script to <code>package.json</code>:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "start": "webpack-dev-server -d --open",</div><div class="line">  "dev": "webpack -d --watch",</div><div class="line">  "build": "webpack -p"</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>If we had an <code>index.html</code> file in our project root, and it used a script with a source that pointed to <code>/bundle.js</code>, then we could just run <code>npm start</code> and serve that. However, we don’t really want our app to serve from the project root, we want to serve from the <code>public/</code> folder. Let’s add a bit of configuration to <code>webpack.config.js</code>:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: <span class="string">'./src/main.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span>,</div><div class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">'public'</span>),</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">devServer</span>: &#123;</div><div class="line">    <span class="attr">contentBase</span>: path.join(__dirname, <span class="string">"public"</span>),</div><div class="line">    <span class="attr">https</span>: <span class="literal">true</span>,</div><div class="line">  &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>The https setting is optional. These days HTTPS is strongly preferred for <em>all</em> websites. This option will set the dev server to automatically create a self-signed cert, and open the page via with https. You can also set a cert, key, and ca file. Check the <a href="https://webpack.js.org/configuration/dev-server/#devserver-https" target="_blank" rel="external">devServer documentation for instructions</a>.</p>
</blockquote>
<p>Next create <code>public/index.html</code>, and put this content in it:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack bundle test page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bundle.js"</span> <span class="attr">defer</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">id</span>=<span class="string">"app-body"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Waiting for Javascript...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>That’s all we need, but to give us a slightly better first look, lets update <code>src/foo.js</code> to modify the html:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Ran foo()!'</span>);</div><div class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>().toDateString();</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'app-body'</span>).innerHTML = <span class="string">`&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;p&gt;This is bundled Javascript! Today is: <span class="subst">$&#123;date&#125;</span>&lt;/p&gt;`</span>;</div><div class="line">  <span class="keyword">if</span>(process.env.NODE_ENV !== <span class="string">"production"</span>) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Debug mode!'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> foo;</div></pre></td></tr></table></figure></p>
<p>Now with these changes, run <code>npm start</code>. This should open a new page in your browser with the above html.</p>
<blockquote>
<p>Since it will be using a self-signed cert, you will need to click through the “Advanced” option to allow it. In Chrome, you click “Proceed to <hostname> (unsafe)”, and in Firefox you click “Add Exception…” and I recommend unchecking the permanent option (since the cert won’t last very long anyway).</hostname></p>
</blockquote>
<p>Congratulations! You now have webpack-dev-server running! You can test it out by changing <code>src/main.js</code> or <code>src/foo.js</code>. When you save changes to either file, the webpage in your browser will refresh with the new bundle.</p>
<p>The final product is available to clone in <a href="https://github.com/samsch/basic-webpack-no-loaders" target="_blank" rel="external">basic-webpack-no-loaders</a>.</p>
<h2 id="Next-steps"><a href="#Next-steps" class="headerlink" title="Next steps"></a>Next steps</h2><p>What we have now is a production ready Javascript build system. To make it your own, you can replace, change, and remove the files in <code>src/</code>, just make sure that the <code>entry</code> property in <code>webpack.config.js</code> points to your entry file (some common files are <code>src/main.js</code>, <code>src/index.js</code>, and <code>lib/index.js</code>).</p>
<p>The most common extra configuration for Webpack is to include babel-loader with preset to compile modern Javascript to ES5 Javascript for browser compatibility. That will be explored in the <a href="https://samuelscheiderich.com/2017/04/14/getting-started-with-webpack-part-2/">next post</a>.</p>
<p>Happy coding!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2017/04/08/getting-started-with-webpack/" data-id="cj6xngchz0002i7dm0fk5duuw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/">developer experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/19/blog/" class="article-date">
  <time datetime="2016-09-19T23:58:27.000Z" itemprop="datePublished">2016-09-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/19/blog/">Getting a blog started</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This could just as well be titled <em>Trouble with blogging software</em>.</p>
<p>If you’re reading this, then at some point I had success. Let me tell you about some of the trials along the way.</p>
<p>My first taste of server-side programming was in PHP. At the same time, I was taking a basic theming course for <a href="https://wordpress.org" target="_blank" rel="external">Wordpress</a>. So setting up a Wordpress (.org or .com) site would be easy, and I could probably be done with it in less than an hour if I didn’t get distracted by theming.</p>
<h2 id="Wordpress"><a href="#Wordpress" class="headerlink" title="Wordpress"></a>Wordpress</h2><p>I have worked with PHP and Wordpress though, and know that I want to be part of the movement away from them (find me in IRC sometime as samsch (newer) or samssh (older)). So I struck out on the journey to find an alternative. There are many, and I’ve tried a few. I’m actually writing this in Markdown as part of a <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a> blog right now.</p>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>So, if I’m writing this is Hexo, why would I not just use it for my blog? Hexo has a distinct lack of a comment system. Hexo is very nice, works well, is documented well, but, is still a <em>static</em> blog framework. So no login, no comments, no true CMS.</p>
<h2 id="Ghost"><a href="#Ghost" class="headerlink" title="Ghost"></a>Ghost</h2><p>The next step of the journey was a run at <a href="https://ghost.org" target="_blank" rel="external">Ghost</a>. I didn’t make it very far without the first snag. Ghost doesn’t currently support Node latest. Ghost as of right now (2016-09-19) “supports LTS Node versions: ~<strong>0.10.0</strong> || ~<strong>0.12.0</strong> || ^<strong>4.2.0</strong>“. Node latest is 6.6.0, and Node 6 will become LTS (planned) next month. Otherwise Ghost has looked very good so far: It’s based on Node, has a deployment system built out, uses stable (if not quite modern) tools (Ember.js and Handlebars), and is fully open source, and run by a company touting 100% transparency. So, not supporting the latest version of Node isn’t a huge issue, but coupled with Ember and Handlebars being a bit dated, I’ve decided to try other options before coming back.</p>
<h2 id="Random-blogs-I-didn’t-try"><a href="#Random-blogs-I-didn’t-try" class="headerlink" title="Random blogs I didn’t try"></a>Random blogs I didn’t try</h2><ul>
<li>[softare]<ul>
<li>[Reasons I skipped it]</li>
</ul>
</li>
<li><a href="https://anchorcms.com/" target="_blank" rel="external">Anchor</a><ul>
<li>PHP*, GPL</li>
</ul>
</li>
<li><a href="https://getnikola.com/" target="_blank" rel="external">Nikola</a><ul>
<li>Python*</li>
</ul>
</li>
<li><a href="https://bolt.cm/" target="_blank" rel="external">Bolt</a><ul>
<li>PHP</li>
</ul>
</li>
</ul>
<h2 id="Bolt"><a href="#Bolt" class="headerlink" title="Bolt"></a>Bolt</h2><p>If Bolt was Node or another language which I want to learn and code in, then I would try it right now. However, since I don’t actually want to setup a PHP server, I’m going to put this off for later. Bolt is driven by Silex/Symfony, which is (in my opinion) the best way to build a site in PHP. But right now I’m still holding out hope for a blogging software based either on Node, or a language that I have interest in learning.</p>
<p>It’s now getting late, time to go with Hexo for a little longer…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2016/09/19/blog/" data-id="cj6xngci40006i7dmnsoozd9o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/deployment/">deployment</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/">developer experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ghost/">ghost</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node/">node</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Getting-started-with-React" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/04/Getting-started-with-React/" class="article-date">
  <time datetime="2016-07-04T19:10:16.000Z" itemprop="datePublished">2016-07-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/04/Getting-started-with-React/">Getting Started with React (Webpack v1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Newer-version-available"><a href="#Newer-version-available" class="headerlink" title="Newer version available!"></a>Newer version available!</h1><p>Since originally written, Webpack released version 2. There are some changes to the configuration, and we no longer need to setup the define plugin ourselves for production mode.</p>
<p>I’ve updated the guide, but I’m leaving this version here for historical purposes. All new projects should follow along with the new <a href="https://samuelscheiderich.com/2017/04/21/getting-started-with-react/">Getting Started with React</a>.</p>
<p>The original Githup repo is also updated for the new guide. You can view the final result as it was for this version of the guide in the <a href="https://github.com/samsch/basic-react/tree/034c6eb9df309afd03806978c1326545ef64bc0d" target="_blank" rel="external">git history</a>.</p>
<h1 id="Original-guide-for-Webpack-v1"><a href="#Original-guide-for-Webpack-v1" class="headerlink" title="Original guide for Webpack v1"></a>Original guide for Webpack v1</h1><p>This will be the fast course to get a productive React development flow going. The only real prerequisite (besides a working computer and internet connection) is having a recent version of Node.js installed (as written, this is version 6.2.2, and this may work in versions 4 and 5).</p>
<p>What this guide does not do is teach you Javascript or React. This just gets the environment in place.</p>
<h2 id="Let’s-go"><a href="#Let’s-go" class="headerlink" title="Let’s go!"></a>Let’s go!</h2><p>First thing to do is create your new project folder (I’ll be using <code>react-project</code> in this guide), and run <code>npm init</code>. The requested information doesn’t directly impact what we are going to be doing, so use whatever values you want.</p>
<p>We need some an html page to attach our app to, so create a <code>public/ folder</code>, and inside, create <code>index.html</code>. Paste this content into it:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Basic React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>If you are looking at this and saying, “man, that’s a pretty sparse web page”, well, you’re right. For a “real” app, you are going to want to put your extra meta tags in, maybe Google Analytics, a link to your favicon, and whatever else you need. We’ll get to the content next.</p>
<h3 id="Application-source"><a href="#Application-source" class="headerlink" title="Application source"></a>Application source</h3><p>Create a <code>src/</code> folder in the root of your project. All of your project specific source will be in this folder. For now, just create a <code>main.js</code> file in <code>src/</code>, and copy these contents into it:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>So now your project folder should look like this:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- react-project</div><div class="line"> |- package.json</div><div class="line"> |- src/</div><div class="line"> | |- main.js</div><div class="line"> |- public/</div><div class="line">   |- index.html</div></pre></td></tr></table></figure></p>
<p>Well, we can see from above that we need at least a few dependencies from NPM installed, so lets get started on those.</p>
<p>Run <code>npm install --save react react-dom</code>.</p>
<p>The <code>react</code> package is the ReactJS library, and <code>react-dom</code> is a sister library which lets you render a React virtual DOM to the real DOM.</p>
<p>That actually covers the entire source of the application. Now all we need to do is build it.</p>
<h3 id="Setting-up-Webpack"><a href="#Setting-up-Webpack" class="headerlink" title="Setting up Webpack"></a>Setting up Webpack</h3><p>So, we primarily need two tools for building a React application: Webpack, and Babel.</p>
<p>Babel is a Javascript compiler (sometimes called a transpiler). It takes JSX and modern (ES2015, ES2016, etc) Javascript syntax, and compiles it to ES5 Javascript, which allows your modern code to run in older browsers (generally IE9+, but with some extra effort, IE8 as well).</p>
<p>Webpack is a module bundler. You give it an entry point file which uses CommonJS (which is the same syntax that Node uses for its modules), and it finds and “bundles” all the required files into a single file, which you can then include in your webpage.</p>
<p>So, lets install Webpack and Babel. Run <code>npm install --save-dev webpack babel-core babel-loader babel-polyfill</code>. Wait, what is babel-loader? Webpack plugins are called loaders. babel-loader is then the Webpack plugin which allows Babel to be run against the files to be bundled. And babel-polyfill? That’s to fill in additions to Javascript in ES2015+ that do not require new syntax, such as methods like <code>Object.assign</code> and objects like <code>Promise</code>.</p>
<p>“That’s it right? now we just run <code>webpack</code> and we’re done, right?” Not quite.</p>
<p>Our next step is to configure webpack. Technically, we could forgo configuring, and just use command line arguments to the webpack cli interface. That would look something like <code>webpack src/main.js public/bundle.js --module-bind &#39;js=babel&#39;</code>. However, using a configuration file is much more expressive, gives you more options, and is easier to maintain. So create <code>webpack.config.js</code> in the root of your project, and copy this into it:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"></div><div class="line"><span class="keyword">const</span> TARGET = process.env.npm_lifecycle_event;</div><div class="line"><span class="keyword">const</span> BUILD_DIR = path.resolve(__dirname, <span class="string">'public'</span>);</div><div class="line"><span class="keyword">const</span> APP_DIR = path.resolve(__dirname, <span class="string">'src/'</span>);</div><div class="line"></div><div class="line"><span class="keyword">const</span> config = &#123;</div><div class="line">    <span class="attr">entry</span>: [<span class="string">'babel-polyfill'</span>, APP_DIR + <span class="string">'/main.js'</span>],</div><div class="line">    <span class="attr">output</span>: &#123;</div><div class="line">        <span class="attr">path</span>: BUILD_DIR,</div><div class="line">        <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">module</span> : &#123;</div><div class="line">        <span class="attr">loaders</span> : [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">test</span> : <span class="regexp">/\.jsx?/</span>,</div><div class="line">                <span class="attr">include</span> : APP_DIR,</div><div class="line">                <span class="attr">loader</span> : <span class="string">'babel'</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">plugins</span>: [],</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(TARGET === <span class="string">'build'</span>) &#123;</div><div class="line">    config.plugins.push(</div><div class="line">        (<span class="keyword">new</span> webpack.DefinePlugin(&#123;</div><div class="line">            <span class="string">'process.env'</span>: &#123;</div><div class="line">              <span class="string">'NODE_ENV'</span>: <span class="built_in">JSON</span>.stringify(<span class="string">'production'</span>)</div><div class="line">            &#125;</div><div class="line">        &#125;))</div><div class="line">    );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = config;</div></pre></td></tr></table></figure></p>
<p>Wow, that’s a lot of configuration for a simple app! Let’s take a closer look though. The first two lines are just requiring Webpack and the Node “path” module, and two the next three lines are just setting of some constants. This line:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> TARGET = process.env.npm_lifecycle_event;</div></pre></td></tr></table></figure></p>
<p>Pulls in the name of the npm script command. I’ll get back to this, but for now, just remember something about “TARGET”.</p>
<p>Next, we have the actual configuration for Webpack. One nice point to note is that Webpack’s configuration file is a Javascript file, not JSON like many others are. In our configuration we set the <code>entry</code> property, which is the file that Webpack starts at (more on that in a moment); the <code>output</code>, which is where Webpack saves the compiled code; the <code>modules</code> property, which I’ll get to next; and <code>plugins</code>, which defaults to empty.</p>
<p>The <code>entry</code> configuration can take a string, array, or object. If you use a string, it should point at the single file that starts your application. If you use an array, Webpack will concatenate the files. Using an object allows you to have multiple entry points, which is for building multiple separate apps. In our case, we need our main.js file and babel-polyfill (which is loaded first).</p>
<p>Our module property has a loader property, which is an array of the defined loaders. For now, we are just defining babel-loader. <code>test</code> is a regex to match against file extensions. I’m using pattern which matches <code>.js</code> and <code>.jsx</code> files. You could also choose to set it to only compile files with the JSX extension, by using <code>/\.jsx/</code>, or if you decide not to use .jsx at all, just use <code>/\.js/</code> to .js files. The <code>include</code> property tell Webpack that you only want to compile files in a specific folder. This is because you should never need to compile files from <code>node_modules</code>, since libraries should already be compiled with Babel (if they needed to be). This only stops Webpack from running Babel on files outside of APP_DIR, it doesn’t stop Webpack from bundling those files into the output. Our <code>loader</code> is Babel. Webpack knows that <code>babel</code> means it should use the loader from package <code>babel-loader</code>.</p>
<p>The <code>plugins</code> property is an array of Webpack plugins and their own configuration. What we are doing is checking the value of TARGET for ‘build’, which is our production build command. If set, we setup one of the built-in Webpack plugins which defines an environment variable. This is the Webpack configuration method for setting an environment variable, the other common way to do this is by setting vars before <code>webpack</code> in the NPM script (or on the command line directly). In this case, both methods are viable, but I prefer to keep it in my config file.</p>
<p>The last bit is simply exporting the configuration. By default, when Webpack runs, it looks for <code>webpack.config.js</code> and <code>include()</code>‘s it.</p>
<p>And that’s it for our Webpack configuration. Now we just need to add our command to package.json:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  ...</div><div class="line">  "scripts": &#123;</div><div class="line">    ...</div><div class="line">    "dev": "webpack -d --watch",</div><div class="line">    "build": "webpack -p"</div><div class="line">  &#125;,</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We add two npm scripts, “dev” and “build”. These are the command which will become the TARGET from earlier. “dev” will run Webpack with “-d –watch”, which sets webpack in debug mode (more verbose, and outputs code maps for the browser), and in watch mode, which means it continuously runs, re-compiling whenever a require()’d file changes. “build” runs Webpack with “-p”, which enables production mode. In production mode, the output is uglified (using Uglify). For us, with our bit of configuration that watches for the TARGET to be “build”, we also set the NODE_ENV variable to be “production”, which tells React not to include it’s debugging tools (which lets it run faster, and spill less in production if there is an error).</p>
<h3 id="Setup-Babel"><a href="#Setup-Babel" class="headerlink" title="Setup Babel"></a>Setup Babel</h3><p>Ok, we’re almost there. We have everything in place except for a little bit of Babel configuration. This one is easy. Create <code>.babelrc</code> in your project root, and copy this into it:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"presets"</span> : [<span class="string">"latest"</span>, <span class="string">"react"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>What this does is tell Babel to compile ES2015+ and JSX to ES5 Javascript. This has only been necessary since the Babel maintainers decided to take a “batteries not included” approach with Babel 6v. These preset also don’t come with Babel, so install them with <code>npm install --save-dev babel-preset-latest babel-preset-react</code>.</p>
<h3 id="Run"><a href="#Run" class="headerlink" title="Run!"></a>Run!</h3><p>That pretty much covers it. And now you know why the React workflow is notorious for being difficult to setup. While it’s not actually that complex, there are many steps to the process, at least the first time through.</p>
<p>So, finally, to start your development environment, run <code>npm run dev</code>. You should see some output from Webpack, and two more files should appear in <code>public/</code>: <code>bundle.js</code> and <code>bundle.js.map</code>.</p>
<p>Now you just need a server to get these files into your browser. My go-to mini-server is <code>http-server</code>, available with npm. I install very few npm packages globally, but this is one. Install it with <code>npm install -g http-server</code>, then run it from your project root with <code>http-server public</code>. Now you should be able to visit <code>localhost:8080</code> in your browser, and see the web app you just created!</p>
<h2 id="Just-give-me-the-final-product-already"><a href="#Just-give-me-the-final-product-already" class="headerlink" title="Just give me the final product already"></a>Just give me the final product already</h2><p><a href="https://github.com/samsch/basic-react" target="_blank" rel="external">Here it is, the whole thing wrapped up in a Github Repository.</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://samuelscheiderich.com/2016/07/04/Getting-started-with-React/" data-id="cj6xngci30005i7dmmjzswa3s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-experience/">developer experience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/React/" style="font-size: 20px;">React</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/css-loader/" style="font-size: 10px;">css-loader</a> <a href="/tags/deployment/" style="font-size: 10px;">deployment</a> <a href="/tags/developer-experience/" style="font-size: 20px;">developer experience</a> <a href="/tags/ghost/" style="font-size: 10px;">ghost</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/patterns/" style="font-size: 10px;">patterns</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/state/" style="font-size: 10px;">state</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/29/state-terminology/">State Terminology</a>
          </li>
        
          <li>
            <a href="/2017/07/14/how-to-add-css-loader-to-webpack/">How to Add css-loader to Webpack</a>
          </li>
        
          <li>
            <a href="/2017/04/21/getting-started-with-react/">Getting Started with React</a>
          </li>
        
          <li>
            <a href="/2017/04/14/getting-started-with-webpack-part-2/">Getting Started with Webpack - Part 2</a>
          </li>
        
          <li>
            <a href="/2017/04/08/getting-started-with-webpack/">Getting Started with Webpack</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Samuel Scheiderich<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/Samuel-Scheiderich" class="mobile-nav-link">About me</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>